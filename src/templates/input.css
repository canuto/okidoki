@tailwind base;
@tailwind components;
@tailwind utilities;

/* Ensure all commonly used classes are included */
@layer utilities {
  /* Force include typography classes */
  .prose { }
  
  /* Force include DaisyUI alert colors */
  .alert-success, .alert-info, .alert-warning, .alert-error { }
  
  /* Force include DaisyUI components */
  .btn, .btn-primary, .btn-secondary { }
  .navbar, .menu, .drawer, .drawer-toggle { }
  
  /* Ensure consistent navbar height and fonts across all pages */
  .navbar {
    min-height: 4rem !important; /* 64px - matches documentation page */
  }
  
  /* Fix menu-lg padding in navbar context - prevents extra height on desktop */
  .navbar .menu-lg :where(li:not(.menu-title) > *:not(ul, details, .menu-title)),
  .navbar .menu-lg :where(li:not(.menu-title) > details > summary:not(.menu-title)) {
    padding-top: 0.25rem !important; /* Reduce from 0.75rem to 0.25rem */
    padding-bottom: 0.25rem !important; /* Reduce from 0.75rem to 0.25rem */
  }
  
  /* Force consistent navbar padding for all elements */
  .navbar * {
    line-height: 1.5 !important; /* Consistent line height */
  }
  
  /* Consistent navbar font sizes - using !important to match doc page specificity */
  .navbar .btn,
  .navbar a {
    font-size: 0.875rem !important; /* text-sm equivalent */
  }
  
  .navbar .font-bold {
    font-size: 1rem !important; /* text-base for logo/title */
  }
  .tab, .tab-content, .tabs, .tabs-bordered { }
  .badge, .badge-primary, .badge-success, .badge-info, .badge-warning, .badge-error { }
  
  /* Force include common spacing classes */
  .p-1, .p-2, .p-3, .p-4, .p-5, .p-6, .p-8 { }
  .m-1, .m-2, .m-3, .m-4, .m-5, .m-6, .m-8 { }
  .mt-1, .mt-2, .mt-4, .mt-6, .mt-8 { }
  .mb-1, .mb-2, .mb-4, .mb-6, .mb-8 { }
  .mx-auto, .my-4 { }
  

  
  /* Force include text classes */
  .text-sm, .text-base, .text-lg, .text-xl, .text-2xl { }
  .font-bold, .font-medium, .font-semibold { }
  
  /* Fix HTTP method badge alignment in headings */
  .badge { }
  
  /* Force include layout classes */
  .block, .inline-block, .flex, .grid { }
  .w-full, .h-full, .max-w-none { }
  .border, .rounded, .shadow { }
}

/* Custom OkiDoki Component Overrides */
@layer components {
  /* Fix excessive padding around codeblocks in tabs */
  .tabs .tab-content {
    padding: 1rem !important; /* Reduce from default p-6 (1.5rem) to 1rem */
    max-width: 100% !important; /* Prevent content from exceeding container */
    overflow-x: auto !important; /* Enable horizontal scrolling for wide content */
    box-sizing: border-box !important; /* Include padding in width calculation */
  }
  
  .tabs .tab-content pre {
    margin: 0.5rem 0 !important; /* Reduce vertical margins on code blocks */
    max-width: 100% !important; /* Constrain code block width */
    overflow-x: auto !important; /* Enable horizontal scrolling */
    box-sizing: border-box !important; /* Include padding in width calculation */
  }
  
  .tabs .tab-content pre code {
    padding: 0.75rem !important; /* Reasonable padding inside code blocks */
    line-height: 1.45 !important; /* Better line height for code */
    max-width: none !important; /* Allow code to be as wide as needed */
    white-space: pre !important; /* Preserve whitespace and prevent wrapping */
  }
  
  /* Add bottom margin to tabs container and constrain width */
  .tabs {
    margin-bottom: 1.5rem !important; /* Add space at bottom of tabs */
    max-width: 100% !important; /* Prevent tabs from exceeding page width */
    overflow-x: auto !important; /* Enable horizontal scrolling if needed */
    box-sizing: border-box !important; /* Include borders/padding in width */
  }
  
  /* Reduce alert box height for single-line content */
  .alert {
    padding: 0.75rem 1rem !important; /* Reduce from default padding */
    min-height: auto !important; /* Remove minimum height constraint */
  }
  
  .alert span {
    line-height: 1.4 !important; /* Better line height for single lines */
  }
  
  .alert span p {
    margin: 0 !important; /* Remove paragraph margins inside alerts */
  }
  
  /* Fix HTTP method badge vertical alignment in headings */
  h1 .badge, h2 .badge, h3 .badge, h4 .badge, h5 .badge, h6 .badge {
    vertical-align: baseline !important;
    margin-top: -0.375rem !important; /* Lift badges higher in headings */
    display: inline-block !important;
  }
  
  /* Better table cell text wrapping for mobile */
  .prose table {
    width: 100% !important;
    table-layout: auto !important;
  }
  
  .prose table td,
  .prose table th {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
    min-width: 0 !important;
    max-width: 0 !important; /* Force equal column distribution */
  }
  
  /* Make code elements in table cells wrap nicely */
  .prose table td code,
  .prose table th code {
    white-space: normal !important;
    word-break: break-all !important;
    overflow-wrap: break-word !important;
    hyphens: none !important;
    font-size: 0.8rem !important;
    line-height: 1.3 !important;
    padding: 0.125rem 0.25rem !important;
    display: inline !important;
  }
  
  /* Responsive table cell sizing */
  @media (max-width: 767px) {
    .prose table td,
    .prose table th {
      padding: 0.25rem 0.375rem !important;
      font-size: 0.8rem !important;
      line-height: 1.4 !important;
    }
    
         .prose table td code,
     .prose table th code {
       font-size: 0.75rem !important;
     }
   }
   
   /* Copy to clipboard button for code blocks */
   .code-block-container {
     position: relative !important;
   }
   
   .copy-button {
     z-index: 10 !important;
     transition: opacity 0.2s ease !important;
     background-color: rgba(0, 0, 0, 0.7) !important; /* Dark background for visibility */
     color: white !important; /* White text/icon for contrast */
     border: 1px solid rgba(255, 255, 255, 0.2) !important;
   }
   
   .copy-button:hover {
     background-color: rgba(0, 0, 0, 0.9) !important;
     opacity: 1 !important;
   }
   
   .code-block-container:hover .copy-button {
     opacity: 1 !important;
   }
   
   /* Success state for copy button */
   .copy-button.copied {
     background-color: rgb(34 197 94) !important; /* green-500 */
     color: white !important;
   }
   
   .copy-button.copied svg {
     display: none;
   }
   
   .copy-button.copied::after {
     content: "âœ“";
     font-size: 0.875rem;
     font-weight: bold;
   }
  
  /* Override DaisyUI automatic dropdown focus behavior for search dropdowns */
  .dropdown:focus-within [id*="search-results"].hidden,
  .dropdown:focus [id*="search-results"].hidden {
    visibility: hidden !important;
    opacity: 0 !important;
    transform: scale(0.95) !important;
  }
  
  /* Theme switcher icon visibility based on DaisyUI themes */
  /* Default: show sun, hide moon */
  .theme-sun-icon {
    opacity: 1;
  }
  
  .theme-moon-icon {
    opacity: 0;
  }
  
  /* Dark themes: hide sun, show moon */
  [data-theme="dark"] .theme-sun-icon,
  [data-theme="forest"] .theme-sun-icon,
  [data-theme="night"] .theme-sun-icon,
  [data-theme="black"] .theme-sun-icon,
  [data-theme="luxury"] .theme-sun-icon,
  [data-theme="dracula"] .theme-sun-icon,
  [data-theme="halloween"] .theme-sun-icon,
  [data-theme="business"] .theme-sun-icon,
  [data-theme="synthwave"] .theme-sun-icon,
  [data-theme="cyberpunk"] .theme-sun-icon,
  [data-theme="coffee"] .theme-sun-icon,
  [data-theme="dim"] .theme-sun-icon,
  [data-theme="sunset"] .theme-sun-icon {
    opacity: 0;
  }
  
  [data-theme="dark"] .theme-moon-icon,
  [data-theme="forest"] .theme-moon-icon,
  [data-theme="night"] .theme-moon-icon,
  [data-theme="black"] .theme-moon-icon,
  [data-theme="luxury"] .theme-moon-icon,
  [data-theme="dracula"] .theme-moon-icon,
  [data-theme="halloween"] .theme-moon-icon,
  [data-theme="business"] .theme-moon-icon,
  [data-theme="synthwave"] .theme-moon-icon,
  [data-theme="cyberpunk"] .theme-moon-icon,
  [data-theme="coffee"] .theme-moon-icon,
  [data-theme="dim"] .theme-moon-icon,
  [data-theme="sunset"] .theme-moon-icon {
    opacity: 1;
  }
}