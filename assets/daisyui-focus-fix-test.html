<!DOCTYPE html>
<html lang="en" data-theme="fantasy">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DaisyUI Focus Fix Test - {{site.title}}</title>
    <link rel="stylesheet" href="/mystyles.css">
    <script src="https://unpkg.com/lunr/lunr.js" defer></script>
    <script src="/mybundle.js" defer></script>
</head>
<body class="bg-base-100 p-8">
    
    <div class="navbar bg-base-200 mb-8 px-4 rounded">
        <div class="flex-1">
            <h1 class="text-xl font-bold">ðŸ”§ DaisyUI Focus Fix</h1>
        </div>
        <div class="flex-none">
            {{include "search-desktop.html"}}
        </div>
    </div>
    
    <div class="alert alert-success mb-6">
        <div>
            <h3 class="font-bold">âœ… Fixed: DaisyUI Automatic Focus Behavior!</h3>
            <p class="mt-2">Overrode DaisyUI's automatic <code>:focus-within</code> CSS rules that were showing empty dropdowns - now works consistently on both custom and doc pages!</p>
        </div>
    </div>
    
    <div class="grid md:grid-cols-2 gap-6 mb-8">
        <div class="card bg-base-200 p-6">
            <h2 class="text-lg font-bold mb-4">ðŸŽ¯ Root Cause Found</h2>
            <div class="mockup-code text-xs mb-4">
                <pre><code>/* DaisyUI automatic behavior */
.dropdown:focus-within .dropdown-content {
  visibility: visible;
  opacity: 1;
}</code></pre>
            </div>
            <p class="text-sm">This CSS was automatically showing dropdown content whenever the input received focus!</p>
        </div>
        
        <div class="card bg-base-200 p-6">
            <h2 class="text-lg font-bold mb-4">ðŸ”§ The Fix</h2>
            <div class="mockup-code text-xs mb-4">
                <pre><code>/* Override for search dropdowns only */
.dropdown:focus-within [id*="search-results"].hidden {
  visibility: hidden !important;
  opacity: 0 !important;
  transform: scale(0.95) !important;
}</code></pre>
            </div>
            <p class="text-sm">Now only shows dropdowns when they have actual content!</p>
        </div>
    </div>
    
    <div class="mb-8">
        <h2 class="text-2xl font-bold mb-4">ðŸ§ª Test Both Page Types</h2>
        <div class="grid md:grid-cols-2 gap-4">
            <div class="card bg-base-300 p-4">
                <h3 class="font-bold mb-2">ðŸ“„ Custom Pages</h3>
                <ul class="text-sm space-y-1">
                    <li>â€¢ This page (custom HTML)</li>
                    <li>â€¢ Empty dropdown fix test</li>
                    <li>â€¢ Standard search test</li>
                </ul>
            </div>
            <div class="card bg-base-300 p-4">
                <h3 class="font-bold mb-2">ðŸ“š Doc Pages</h3>
                <ul class="text-sm space-y-1">
                    <li>â€¢ <a href="/about.html" class="link">about.html</a></li>
                    <li>â€¢ <a href="/start.html" class="link">start.html</a></li>
                    <li>â€¢ <a href="/features.html" class="link">features.html</a></li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="alert alert-info">
        <div>
            <h3 class="font-bold">ðŸŽ¯ Expected Behavior (Both Page Types)</h3>
            <ul class="list-disc list-inside mt-2 text-sm">
                <li><strong>Click search input</strong> â†’ No empty dropdown appears</li>
                <li><strong>Type 1 character</strong> â†’ Still no dropdown</li>
                <li><strong>Type 2+ characters</strong> â†’ Dropdown shows with results</li>
                <li><strong>No matches</strong> â†’ Dropdown stays hidden</li>
                <li><strong>Clear input</strong> â†’ Dropdown disappears</li>
            </ul>
        </div>
    </div>
    
    <div class="mt-8 p-4 bg-success text-success-content rounded">
        <h3 class="font-bold">ðŸŽ‰ Success!</h3>
        <p class="mt-2">The search should now behave identically on both custom HTML pages and generated documentation pages!</p>
    </div>
    
</body>
</html> 